<!DOCTYPE HTML>
<!--
	Arcana by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Testing Deep Sleep Mode On An ESP-01 With A Worm Farm - Brandon Hoynick's CV Profile</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes" />
	<link rel="stylesheet" href="assets/css/main.css" />
</head>

<body class="is-preload">
	<div id="page-wrapper">

		<!-- Header -->
		<div id="header">

			<!-- Logo -->
			<h1><a href="index.html" id="logo">Brandon Hoynick <em>CV Profile</em></a></h1>

			<!-- Nav -->
			<nav id="nav">
				<ul>
					<li><a href="index.html">Home Page</a></li>
					<li><a href="featured.html">Featured</a></li>
					<li class="current"><a href="archived.html">Archived</a></li>
				</ul>
			</nav>

		</div>

		<!-- Main -->
		<section class="wrapper style1">
			<div class="container">
				<div id="content">


					<article>
						<header>
							<h2>Testing Deep Sleep Mode On An ESP-01 With A Worm Farm</h2>
							<p>TAGS: electronics; software; nature projects; ESP-01; Arduino; DS18B20 Temperature Probe;
								batteries; IOT; AdafruitIO; Cayenne </p>
						</header>

						<h3>Why I Did This</h3>
						<p>
							I had an ESP-01 device and wanted to see if it could be a fit for low input, low power,
							deep-sleep-mode applications. I just started a worm farm in some 5-gallon pails (it’s just
							some layered pails with holes, filled with old vegetables and composting material; I wanted
							to build it for compost, and to get worms for fishing). I figured this worm farm could be an
							appropriate project to monitor pail temperatures and test the deep-sleeping capabilities of
							an ESP-01 device.
						</p>

						<span class="image featured"><img
								src="articleAssets\Testing-Deep-Sleep-On-ESP01-With-Worm-Farm\esp01_sleep_worm_0.jpg"
								alt="" /></span>
						<div class="center">
							<p><i>A portable, low power, WIFI temperature probe for my worm composter.</i>
							</p>
						</div>

						<h3>Design Walkthrough</h3>
						<p><b>Parts:</b> ESP-01 controller; Arduino Uno controller (for programming ESP); Arduino IDE;
							Cayenne free account; DS18B20 Temperature Probe; 2x AAA batteries (or whatever combo
							batteries to get ~3.3V)</p>

						<p>I initially wanted to test this with AdafruitIO as the web server for saving the temperature
							readings, but I wasn’t getting it a connection on their servers, so I tried Cayenne.<br><br>

							I started programming by using customizations of Cayenne example codes for data uploaded of
							a DS18B20 probe with the deep-sleep modes.<br><br>

							I had a heck of a time actually getting the ESP-01 programmed. I have programmed it before
							using an Arduino Uno as the serial uploader, but it took me like 20 tries (fiddling,
							adjusting wires, unplug/plugging) in order to get it to successfully upload.<br><br>

							Much like AdafruitIO, Cayenne was also giving me issues with connectivity, but at least it was showing up
							on their servers (for like a split second). I then found custom code by Cayenne Community
							board user ‘Sven’ (who was also doing deep-sleep and using a DS18B20 probe) and found that with his code 
							the connectivity was much better, and I was able to see values stay on the Cayenne
							webpage.<br><br>

							After getting a stable connection I switched power to 3 AAA batteries that were already
							semi-drained (they were 1.2V so together at 3.6V; good enough to start testing with). I also
							place all the pieces inside a Tupperware container to protect them from the elements, then
							placed within the worm pails.

						</p>

						<span class="image featured"><img
								src="articleAssets\Testing-Deep-Sleep-On-ESP01-With-Worm-Farm\esp01_sleep_worm_1.jpg"
								alt="" /></span>
						<div class="center">
							<p><i>I programmed the ESP-01 through an Arduino Uno, and tested its amp draw (it shows zero when in deep sleep).<br>
							I also have the probe next to another temperature gauge to check for discrepancy.</i>
							</p>
						</div>

						<span class="image featured"><img
								src="articleAssets\Testing-Deep-Sleep-On-ESP01-With-Worm-Farm\esp01_sleep_worm_2.jpg"
								alt="" /></span>
						<div class="center">
							<p><i>The temperature probe reads pretty darn close to separate gauge, but are they both accurate?</i>
							</p>
						</div>

						<span class="image featured"><img
								src="articleAssets\Testing-Deep-Sleep-On-ESP01-With-Worm-Farm\esp01_sleep_worm_3.jpg"
								alt="" /></span>
						<div class="center">
							<p><i>The Cayenne server picking up my ESP-01's sensor tranmissions.</i>
							</p>
						</div>

						<span class="image featured"><img
								src="articleAssets\Testing-Deep-Sleep-On-ESP01-With-Worm-Farm\esp01_sleep_worm_4.jpg"
								alt="" /></span>
						<div class="center">
							<p><i>A Tupperware to protect the batteries and ESP-01 from the elements.</i>
							</p>
						</div>

						<span class="image featured"><img
								src="articleAssets\Testing-Deep-Sleep-On-ESP01-With-Worm-Farm\esp01_sleep_worm_5.jpg"
								alt="" /></span>
						<div class="center">
							<p><i>The probe is within the compost pail garbage clippings.</i>
							</p>
						</div>

						<span class="image featured"><img
								src="articleAssets\Testing-Deep-Sleep-On-ESP01-With-Worm-Farm\esp01_sleep_worm_6.jpg"
								alt="" /></span>
						<div class="center">
							<p><i>Final setting: the Tupperware is sitting inside the pails.</i>
							</p>
						</div>

						<h3>Lessons Learned and Future Changes</h3>
						<b>Where’s the history, Cayenne?</b> Even though I was getting a consistent reading from the
						devices on the Cayenne server, it seemed to not be saving a history and I’m not sure why, so for
						now I’ll have to monitor it live with regular checkups; maybe I can try AdafruitIO later.<br>
						<b>But how’s the battery?</b> Preliminary tests showed it was drawing 80mA when in run mode (and
						nothing in deep-sleep). I hope to eventually tune this setup to get like months use out of the
						battery, but for now I’ll test short term draw. I don’t have a multimeter that accurately goes
						below the milliAmp range, so for now I’m just testing by checking periodical for battery drain.
						I read that removing the boards LEDs can help with lowering amperage.<br>

						<h3>References</h3>
						<p>
							Cayenne web sever for devices: https://cayenne.mydevices.com <br>
							Programming ESP-01 via Arduino Uno as boot loader:
							https://www.engineersgarage.com/esp8266-with-arduino-and-ft232/ <br>
							DS18B20 and ESP01 tutorial:
							https://myhomethings.eu/en/ds18b20-temperature-sensor-with-esp-01-module-for-iobroker/ <br>
							Sven’s setup: https://community.mydevices.com/t/esp-01-ds18b20-cellphone-li-ion-battery/8137
						</p>
					</article>

				</div>
			</div>
		</section>

		<!-- Main pages (since mobile puts them in hamburger menu, this set of links is more open) -->
		<section class="wrapper style1">
			<div class="container">
				<div class="row gtr-200">
					<section class="col-4 col-12-narrower">
						<div class="box highlight">
							<i class="icon solid major fa-home"></i>
							<h3><a href="index.html">Home Page</a></h3>
							<p>Let's go to the start page. <br> </p>
						</div>
					</section>
					<section class="col-4 col-12-narrower">
						<div class="box highlight">
							<i class="icon solid major fa-star"></i>
							<h3><a href="featured.html">Featured Articles</a></h3>
							<p>Let's see what I've experienced lately. <br> </p>
						</div>
					</section>
					<section class="col-4 col-12-narrower">
						<div class="box highlight">
							<i class="icon solid major fa-warehouse"></i>
							<h3><a href="archived.html">Archived Articles</a></h3>
							<p>Let's see ALL of what I've experienced. <br> </p>
						</div>
					</section>
				</div>
			</div>
		</section>

		<!-- CTA -->
		<section id="cta" class="wrapper style3">
			<div class="container">
				<!-- Icons -->
				<ul class="icons">
					<li><a href="https://github.com/hobranan/" target="_blank" class="icon brands fa-github"><span
								class="label">GitHub</span></a></li>
					<li><a href="https://www.linkedin.com/in/brandon-h-abca/" target="_blank"
							class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
					<li><a href="https://www.youtube.com/channel/UCl-9B-M4xnpTyTeQCUQTFig/videos" target="_blank"
							class="icon brands fa-youtube"><span class="label">YouTube</span></a></li>
				</ul>
			</div>
		</section>


		<!-- Footer -->
		<div id="footer">
			<div class="container">
				<div class="row">
				</div>
			</div>


			<!-- Copyright -->
			<div class="copyright">
				<ul class="menu">
					<li>&copy; Brandon Hoynick. All rights reserved.</li>
					<li>Webpage Template from: <a href="https://html5up.net" target="_blank">HTML5 UP</a></li>
					<li>Free photos from: <a href="https://unsplash.com/" target="_blank">Unsplash</a></li>
				</ul>
			</div>

		</div>

	</div>


	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.dropotron.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>